(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{30:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),i=(n(30),n(11)),s=n(4),l=n(1);function u(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1];return Object(l.jsx)("div",{children:Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):alert("Please, enter your query !")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,value:r,onChange:function(e){o(e.target.value.toLowerCase())},placeholder:"Search images..."})]})})})}var j=function(e){var t=e.src,n=e.largeImg;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image","data-img":n,height:"240",width:"320"})})},b=function(e){var t=e.pictures,n=e.onImgClick;return Object(l.jsx)("ul",{className:"ImageGallery",onClick:n,children:t.map((function(e){var t=e.id,n=e.webformatURL,a=e.largeImageURL;return Object(l.jsx)(j,{src:n,largeImg:a},t)}))})},m=n(10),d=n.n(m),h=n(20),p=n(8),f=n.n(p);f.a.defaults.baseURL="https://pixabay.com/api/",f.a.defaults.params={key:"18977229-7092af5d4460397c12f37767a",image_type:"photo",orientation:"horizontal",per_page:12};var O={fetchImages:function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("",{params:{q:t,page:n}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c.hits);case 8:return e.prev=8,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},g=function(e){var t=e.onBtnClick,n=e.text;return Object(l.jsx)("button",{className:"Button",type:"button",onClick:t,children:n})},v=n(21),y=n(22),x=n(25),w=n(24),k=document.querySelector("#modal-root"),S=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onKeydownClick=function(t){var n=e.props.onCloseModal;"Escape"===t.code&&n()},e.onBackdropClick=function(t){var n=e.props.onCloseModal;t.currentTarget===t.target&&n()},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeydownClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeydownClick)}},{key:"render",value:function(){return Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:this.onBackdropClick,children:Object(l.jsx)("div",{className:"Modal",children:this.props.children})}),k)}}]),n}(a.Component),C=n(23),I=n.n(C);n(71);function N(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),j=o[0],m=o[1],d=Object(a.useState)(""),h=Object(s.a)(d,2),p=h[0],f=h[1],v=Object(a.useState)(1),y=Object(s.a)(v,2),x=y[0],w=y[1],k=Object(a.useState)(null),C=Object(s.a)(k,2),N=C[0],B=C[1],F=Object(a.useState)(!1),L=Object(s.a)(F,2),E=L[0],M=L[1],R=Object(a.useState)(!1),U=Object(s.a)(R,2),q=U[0],D=U[1];Object(a.useEffect)((function(){n&&(M(!1),O.fetchImages(n,x,N).then((function(e){0!==e.length?m((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})):alert("Pictures not found!")})).catch((function(e){B(e)})).finally((function(e){window.scrollTo({top:document.documentElement.scrollHeight-995,behavior:"smooth"})})))}),[n,x,N]);var G=function(){D(!q)},H=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.clientHeight-160,behavior:"smooth"})}),800)};return Object(l.jsxs)("div",{className:"App",children:[E&&Object(l.jsx)(S,{children:Object(l.jsx)(I.a,{type:"Rings",color:"#00BFFF",height:700,width:700})}),Object(l.jsx)(u,{value:n,onSubmit:function(e){e!==n&&(c(e),m([]),w(1),B(null),M(!0))}}),Object(l.jsx)(b,{pictures:j,onImgClick:function(e){f(e.target.dataset.img),G()}}),j.length>0&&Object(l.jsx)(g,{onBtnClick:function(){M(!0),w((function(e){return e+1})),H()},text:E?"Loading":"Load More"}),q&&Object(l.jsx)(S,{onCloseModal:G,children:Object(l.jsx)("img",{src:p,alt:"Dont Worry Be Happy"})})]})}o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.7e4bb738.chunk.js.map